<!DOCTYPE html>
<html lang="en">

<head>
    @@include('layout/meta.html', { "title" : "Javascript" })
</head>

<body>
    <!-- header -->
    @@include('layout/header.html')
    <!-- header end -->
    <!-- section -->
    <section>
        <div class="container">
            <h1>基礎 Javascript</h1>
            <div class="accordion" id="accordionExample">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingOne">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                            <pre><code>if(false){
                                var a = 1;
                                let b = 2;
                            }
                            console.log(a);
                            console.log(b);</code></pre>
                        </button>
                    </h2>
                    <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne"
                        data-bs-parent="#accordionExample">
                        <div class="accordion-body">
                            <p>var不会产生块级作用域,let会产生块级作用域。</p>
                            <pre><code>
                            // 输出
                            undefined
                            
                            ReferenceError: b is not defined

                            var a = 1;
                            if(false){
                            a = 1;
                            let b = 2;
                            }
                            console.log(a);
                            console.log(b);</code></pre>
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingTwo">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                            <pre><code>var a = 1;
                            if(true){
                            console.log(a);
                            let a = 2;
                            }</code></pre>
                        </button>
                    </h2>
                    <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
                        data-bs-parent="#accordionExample">
                        <div class="accordion-body">
                            <p>let声明的变量不会提升,并且会产生暂存死区。在let声明变量之前访问变量会抛出错误。</p>
                            <pre><code>
                                // 输出                                
                                ReferenceError: Cannot access 'a' before initialization
                            </code></pre>
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingThree">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                            <pre><code>var a = {n: 1}
                            var b = a
                            a.x = a = {n: 2}
                            
                            console.log(a.n, b.n);
                            console.log(a.x, b.x);</code></pre>
                        </button>
                    </h2>
                    <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"
                        data-bs-parent="#accordionExample">
                        <div class="accordion-body">
                            <pre><code>// 输出
                            2 1                            
                            undefined {n: 2}

                            var b = a,此时a和b指向同一个对象。
                            
                            .运算符比 = 运算符高,先计算`a.x`,此时
                            b = {
                            n:1,
                            x:undefined
                            }
                            
                            相当于给对象添加了x属性。
                            
                            a.x = a = {n:2};
                            
                            计算完a.x,再计算 = ,赋值是从右向左,此时a指向一个新对象。
                            a = {
                            n:2
                            }
                            
                            a.x已经执行过了,此时对象的x属性赋值为a,此时
                            
                            对象 = {
                            n:1,
                            x:{
                            n:2
                            }
                            }
                            
                            即:
                            a = {
                            n:2
                            }
                            
                            b = {
                            n:1,
                            x:{
                            n:2
                            }
                            }</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- section end -->
    <!-- footer -->
    @@include('layout/footer.html')
    <!-- footer end -->
    <!-- script -->
    @@include('layout/script.html')
    <!-- script end -->
</body>

</html>